# TMUX - PERSONA IO
# JAN 2015

# SET ZSH AS DEFAULT SHELL
set-option -g default-shell $SHELL
set-option -g default-command 'exec reattach-to-user-namespace -l zsh'
set-option -g status on
set-option -g status-utf8 on

# Custom status bar
# Powerline symbols: ⮂ ⮃ ⮀ ⮁ ⭤
set -g status-left-length 50
set -g status-right-length 150
set -g status-interval 5
set -g status-left ''
set -g status-right '#[fg=colour74,bg=colour234,nobold]⮂#[fg=colour234,bg=colour74,bold,noitalics]  %A, %B %d %Y  #[fg=colour234,bg=colour74,nobold]#[fg=colour252,bg=colour74,nobold]⮂#[fg=colour234,bg=colour252,bold,noitalics] #h '


set -g window-status-format "#[fg=colour234,bg=colour148, bold] #S #[fg=colour148,bg=colour124,nobold]⮀#[fg=colour16,bg=colour124] #I ⮁ #W #[fg=colour124,bg=colour234,nobold]⮀"
set -g window-status-current-format "#[fg=colour234,bg=colour148, bold] #S #[fg=colour148,bg=colour39,nobold]⮀#[fg=colour16,bg=colour39,noreverse,bold] #I ⮁ #W #[fg=colour39,bg=colour234,nobold]⮀"
# set -g status-justify centre

set-window-option -g window-status-activity-attr none


# Activity
set-window-option  -g monitor-activity on
set -g visual-activity off

# BASE CONFIG
# Allows us to use C-a a <command> to send commands to a TMUX session inside
# Rather than constraining window size to the maximum size of any client
# connected to the *session*, constrain window size to the maximum size of any
# client connected to *that window*. Much more reasonable.
set-window-option  -g aggressive-resize on
# Start numbering at 1
set -g base-index 1
# Allows for faster key repetition
set -s escape-time 0
# emacs key bindings in tmux command prompt (prefix + :) are better than
# vi keys, even for vim users
set -g status-keys emacs
# auto window rename
set-window-option -g automatic-rename
set-window-option  -g mode-keys vi

# COLOR CONFIGS
set -g default-terminal "screen-256color"
set-option -g status-bg colour234 #base02
set-option -g status-fg colour234 #brblue
set-option -g status-attr default
# C-b is not acceptable -- Vim uses it
unbind C-b
set-option -g prefix C-a

# KEY BINDINGS
# set window split
bind-key | split-window -h
bind-key - split-window -v
# hjkl pane traversal
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection
bind-key C command-prompt -p "Name of new window: " "new-window -n '%%'"
bind-key C-a last-window
# another TMUX session
bind-key a send-prefix
bind-key C-c run-shell 'tmux save-buffer - | reattach-to-user-namespace pbcopy'
bind-key C-v run-shell 'reattach-to-user-namespace pbpaste | tmux load-buffer - \; paste-buffer -d'
bind -r ( switch-client -p
bind -r ) switch-client -n
# bind-key '^R' history-incremental-search-backward
# bind-key '^A' beginning-of-line
# bind-key '^E' end-of-line
# bind-key -t vi-copy y   'reattach-to-user-namespace pbcopy'
# bind-key -t emacs-copy M-w 'reattach-to-user-namespace pbcopy'

# MOUSE BINDINGS
set -g mode-mouse on
set-window-option  -g mouse-select-window on
set-window-option  -g mouse-select-pane on
set-window-option  -g mouse-resize-pane on

# TMUX ALIAS
# reload config
bind r source-file ~/.tmux.conf \; display-message "Config reloaded..."

# WINDOW OPTIONS
set-window-option -g window-status-fg colour235 #base0
set-window-option -g window-status-bg default
# Vi copypaste mode
set-window-option -g mode-keys vi
set-window-option -g clock-mode-colour green #green
#set-window-option -g window-status-attr dim

# Activity monitoring
set-window-option -g monitor-activity on
set -g visual-activity on
set-option -g display-time 2000

# List of plugins
# Supports `github_username/repo` or full git repo URLs
set -g @tpm_plugins '              \
  tmux-plugins/tpm                 \
  tmux-plugins/tmux-sidebar        \
'
# Other examples:
# github_username/plugin_name    \
# git@github.com/user/plugin     \
# git@bitbucket.com/user/plugin  \

# Initializes TMUX plugin manager.
# Keep this line at the very bottom of tmux.conf.
run-shell '~/.tmux/plugins/tpm/tpm'


# run-shell "powerline-daemon -q"
# source "$HOME/Desktop/ASSETS/DEVELOPMENT/PYTHON/REPOS/powerline/powerline/bindings/tmux/powerline.conf"
